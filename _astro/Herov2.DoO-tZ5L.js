import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";import{s as d,a as r}from"./index.95d291e9.CxOmbIvZ.js";import{V as p}from"./VideoButton.CSZeU5MW.js";const w=()=>{const[s,t]=c.useState(!0),o=c.useRef(null);return c.useEffect(()=>{const n=()=>{if(!o.current)return;const i=o.current.getBoundingClientRect(),l=i.left+i.width/2,u=i.top+i.height/2,h=[{id:"hero",dark:!1},{id:"reservation",dark:!1}];let m=!1;for(let v of h){const f=document.getElementById(v.id);if(!f)continue;const a=f.getBoundingClientRect();if(u>=a.top&&u<=a.bottom&&l>=a.left&&l<=a.right){t(v.dark),m=!0;break}}m||t(!0)};return window.addEventListener("scroll",n),window.addEventListener("resize",n),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[]),e.jsx("div",{ref:o,className:`${d.callToActionContainer} ${s?d.dark:""}`,children:e.jsx("h2",{children:e.jsxs("a",{href:"https://www.airbnb.com/l/iMnOLylu",children:["Réservez ",e.jsx("span",{className:d.callToActionSpan,children:"votre séjour"})]})})})},j=c.forwardRef((s,t)=>e.jsx("section",{className:d.videoSection,children:e.jsx("video",{ref:t,className:d.video,src:"/videos/website.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0})})),b=({color:s="#000000",width:t="800px",height:o="800px"})=>e.jsx("svg",{fill:s,width:t,height:o,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("g",{children:e.jsx("path",{d:"M78.466,35.559L50.15,63.633L22.078,35.317c-0.777-0.785-2.044-0.789-2.828-0.012s-0.789,2.044-0.012,2.827L48.432,67.58c0.365,0.368,0.835,0.563,1.312,0.589c0.139,0.008,0.278-0.001,0.415-0.021c0.054,0.008,0.106,0.021,0.16,0.022c0.544,0.029,1.099-0.162,1.515-0.576l29.447-29.196c0.785-0.777,0.79-2.043,0.012-2.828S79.249,34.781,78.466,35.559z"})})}),g=s=>e.jsx("div",{className:"videoScreen",children:e.jsxs("div",{className:"videoScreenContent",children:[e.jsx("div",{className:"ScreenClose",children:e.jsx("button",{onClick:()=>s.setVideoOpen(!1),children:e.jsx("img",{src:"/images/close.svg",alt:"Close"})})}),e.jsx("iframe",{src:"https://www.youtube.com/embed/vuApAB0VHjo?autoplay=1&mute=0&loop=1&playlist=vuApAB0VHjo",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"videoScreenFrame"})]})});function N(){return e.jsx("section",{className:d.callToAction,children:e.jsx(w,{})})}const C=()=>{const[s,t]=c.useState(!0),o=c.useRef(null);return c.useEffect(()=>{const n=()=>{if(!o.current)return;const i=o.current.getBoundingClientRect(),l=i.left+i.width/2,u=i.top+i.height/2,h=[{id:"hero",dark:!1},{id:"reservation",dark:!1}];let m=!1;for(let v of h){const f=document.getElementById(v.id);if(!f)continue;const a=f.getBoundingClientRect();if(u>=a.top&&u<=a.bottom&&l>=a.left&&l<=a.right){t(v.dark),m=!0;break}}m||t(!0)};return window.addEventListener("scroll",n),window.addEventListener("resize",n),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[]),e.jsx("a",{href:"https://www.airbnb.com/l/iMnOLylu",children:e.jsx("button",{ref:o,className:`${d.mobileReservationButton} ${s?d.dark:""}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:e.jsx("path",{d:"M580-240q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Z"})})})})},E=s=>e.jsx("div",{onClick:()=>s.setVideoOpen(!0),className:d.mobileVideoButton,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"52px",viewBox:"0 -960 960 960",width:"52px",fill:"currentColor",children:e.jsx("path",{d:"m380-300 280-180-280-180v360ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"})})}),x=s=>{const t=c.useRef(null),[o,n]=c.useState(!1);return c.useEffect(()=>{const i=new IntersectionObserver(([l])=>{n(l.isIntersecting)},s);return t.current&&i.observe(t.current),()=>{t.current&&i.unobserve(t.current)}},[s]),[t,o]},T=()=>{const[s,t]=c.useState(!1),[o,n]=c.useState(!1),[i,l]=x({threshold:.4,rootMargin:"100px 0px 0px 0px"}),[u,h]=x({threshold:.4,rootMargin:"100px 0px 0px 0px"});return e.jsxs(e.Fragment,{children:[s&&e.jsx(g,{videoOpen:s,setVideoOpen:t}),e.jsxs("section",{className:r.hero,id:"hero",children:[e.jsx(C,{}),e.jsx("div",{className:`${r.backgroundVideo} ${r.show}`,onLoad:()=>n(!0),children:e.jsx(j,{})}),e.jsx("div",{className:`${r.backgroundImage} ${r.hidden}`,children:e.jsx("img",{src:"/images/hero.png",alt:"hero"})}),e.jsxs("div",{className:r.heroArrowTitleContainer,children:[e.jsxs("div",{className:r.heroTitlesContainer,children:[e.jsx("div",{className:r.heroTitleContainer,children:e.jsxs("h1",{ref:i,className:`${r.heroTitle} ${l&&o?r.showApparition:r.hiddenApparition}`,children:[e.jsx("span",{className:"capitalize",children:"V"}),"ILLA DES K'RIBEAN"]})}),e.jsx(E,{setVideoOpen:t}),e.jsxs("div",{className:r.heroSubtitleContainer,children:[e.jsx("h2",{ref:u,className:`${r.heroSubtitle} ${h&&o?r.showApparition:r.hiddenApparition}`,children:"LOCATION DE VACANCES AU MOULE"}),e.jsx(N,{}),e.jsx(p,{videoOpen:s,setVideoOpen:t})]})]}),e.jsx("div",{className:r.heroArrow,children:e.jsx("a",{href:"#about",children:e.jsx(b,{color:"#ffffff",width:"100",height:"100"})})})]})]})]})};export{T as default};
